{
  "gitSyncId": "6904ab7642599522ad71b295_ce4d6772-1b5a-44d6-9dc4-b961820a507c",
  "id": "Home_pedidos_e_saidas_do_dia",
  "pluginId": "oracle-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "encodeParamsToggle": true,
      "formData": {
        "body": {
          "data": "SELECT\n    rel.saidaid,\n    rel.codfilial,\n    rel.cidadefilial,\n    R.CODROTAINSERVIVEL AS CODROTA,\n    rel.codmotorista AS RCA,\n    rel.nome AS MOTOBOY,\n    rel.codcli AS COD_CLI,\n    rel.cliente AS RAZAO_SOCIAL,\n    rel.endereco,\n    rel.cep,\n    rel.cidade,\n    rel.estado,\n    rel.latitude,\n    rel.longitude,\n    rel.codfornecfrete,\n    conf.entregaposterior,\n\n    CASE\n        WHEN rel.codfilial IN (2, 21) THEN '-15.7845573'\n        WHEN rel.codfilial IN (4, 41) THEN '-18.9177631'\n        WHEN rel.codfilial IN (7, 71) THEN '-19.8711629'\n        WHEN rel.codfilial IN (13, 73) THEN '-23.51120817'\n        WHEN rel.codfilial IN (3, 31) THEN '-22.877598'\n        WHEN rel.codfilial IN (12, 72) THEN '-25.5192587'\n        WHEN rel.codfilial IN (8, 81) THEN '-29.9911833'\n        ELSE NULL\n    END AS FILIAL_LATITUDE,\n\n    CASE\n        WHEN rel.codfilial IN (2, 21) THEN '-47.9900574'\n        WHEN rel.codfilial IN (4, 41) THEN '-48.3026348'\n        WHEN rel.codfilial IN (7, 71) THEN '-43.9454726'\n        WHEN rel.codfilial IN (13, 73) THEN '-46.5801309'\n        WHEN rel.codfilial IN (3, 31) THEN '-43.4733569'\n        WHEN rel.codfilial IN (12, 72) THEN '-49.2301037'\n        WHEN rel.codfilial IN (8, 81) THEN '-51.1462472'\n        ELSE NULL\n    END AS FILIAL_LONGITUDE,\n\n    rel.numped AS PEDIDO,\n    TO_CHAR(rel.datasaida, 'YYYY-MM-DD HH24:MI:SS') AS INICIO_ROTA,\n    TO_CHAR(rel.dtretorno, 'YYYY-MM-DD HH24:MI:SS') AS ENTREGA_CLIENTE,\n    TO_CHAR(rel.dtacerto, 'YYYY-MM-DD HH24:MI:SS') AS FIM_ROTA\n\nFROM (\n    SELECT\n        t.saidaid,\n        t.codfilial,\n        z.cidade AS cidadefilial,\n        t.codmotorista,\n        e.nome,\n        t.codcli,\n        c.cliente,\n        c.ENDERCOM || ', ' || c.NUMEROCOM || ', ' || c.COMPLEMENTOCOM || ', ' || c.BAIRROCOM || ', ' || c.MUNICCOM || '-' || c.ESTCOM AS ENDERECO,\n        c.LATITUDE,\n        c.LONGITUDE,\n        c.CEPCOM AS CEP,\n        c.MUNICCOM AS CIDADE,\n        c.ESTCOM AS ESTADO,\n        t.numped,\n        nf.codfornecfrete,\n        t.datasaida,\n        i.datainclusao AS dtretorno,\n        t.dataretorno AS dtacerto\n    FROM tab_saidamoto t\n    LEFT JOIN (\n        SELECT numped, MAX(datainclusao) AS datainclusao\n        FROM tab_integra_site\n        GROUP BY numped\n    ) i ON i.numped = t.numped\n    LEFT JOIN pcnfsaid nf ON nf.numped = t.numped\n    INNER JOIN pcclient c ON c.codcli = t.codcli\n    INNER JOIN pcempr e ON e.matricula = t.codmotorista\n    INNER JOIN pcfilial z ON z.codigo = t.codfilial\n    WHERE t.datasaida >= TO_DATE('{{ moment(DatePicker_Data_Inicio.selectedDate).format(\"DD-MM-YYYY\") }}', 'DD-MM-YYYY')\n      AND t.datasaida < TO_DATE('{{ moment(DatePicker_Data_Fim.selectedDate).format(\"DD-MM-YYYY\") }}', 'DD-MM-YYYY') + 1\n) rel\nLEFT JOIN pcclient pc ON pc.codcli = rel.codcli\nLEFT JOIN PCROTAINSERVIVEL r ON r.CODROTAINSERVIVEL = pc.CODROTAINSERVIVEL\nLEFT JOIN tab_pedconf conf ON conf.numped = rel.numped\nORDER BY rel.saidaid, rel.codcli, rel.dtretorno\n"
        },
        "preparedStatement": {
          "data": false
        }
      },
      "paginationType": "NONE",
      "timeoutInMillisecond": 100000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "WINDONBLUE",
      "isAutoGenerated": false,
      "name": "WINDONBLUE",
      "pluginId": "oracle-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "formData.body.data"
      }
    ],
    "name": "pedidos_e_saidas_do_dia",
    "pageId": "Home",
    "runBehaviour": "ON_PAGE_LOAD",
    "userSetOnLoad": true
  }
}