{
  "animateLoading": true,
  "borderOpacity": 100,
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "borderWidth": 1,
  "bottomRow": 72,
  "boxShadow": "{{appsmith.theme.boxShadow.appBoxShadow}}",
  "dynamicBindingPathList": [
    {
      "key": "borderRadius"
    },
    {
      "key": "boxShadow"
    },
    {
      "key": "srcDoc"
    }
  ],
  "dynamicTriggerPathList": [],
  "flexVerticalAlignment": "start",
  "isLoading": false,
  "isVisible": true,
  "key": "v104wcek7u",
  "leftColumn": 0,
  "mobileBottomRow": 35,
  "mobileLeftColumn": 8,
  "mobileRightColumn": 32,
  "mobileTopRow": 3,
  "needsErrorInfo": false,
  "parentColumnSpace": 19.9375,
  "parentId": "rlhajdfgof",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "responsiveBehavior": "fill",
  "rightColumn": 64,
  "source": "https://www.example.com",
  "srcDoc": "<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>An√°lise por Filial - BlueTech</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: #f5f5f5;\n            padding: 20px;\n        }\n\n        .container {\n            max-width: 1800px;\n            margin: 0 auto;\n            background: white;\n            padding: 30px;\n        }\n\n        /* Cards de Resumo */\n        .summary-cards {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n            gap: 20px;\n            margin-bottom: 30px;\n        }\n\n        .summary-card {\n            background: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n            border-left: 4px solid #2c5282;\n            text-align: center;\n        }\n\n        .summary-card.intercorrencia {\n            border-left-color: #f59e0b;\n        }\n\n        .summary-card h2 {\n            font-size: 3rem;\n            margin-bottom: 5px;\n            color: #333;\n            font-weight: 300;\n        }\n\n        .summary-card p {\n            font-size: 0.9rem;\n            color: #666;\n            font-weight: 500;\n        }\n\n        .table-container {\n            overflow-x: auto;\n            margin-top: 20px;\n            overflow-y: visible;\n        }\n\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            background: white;\n            font-size: 0.9rem;\n        }\n\n        thead {\n            background: #2c5282;\n            color: white;\n        }\n\n        th {\n            padding: 12px 10px;\n            text-align: center;\n            font-weight: 600;\n            font-size: 0.85rem;\n            border-right: 1px solid rgba(255,255,255,0.2);\n        }\n\n        th:first-child {\n            text-align: left;\n            padding-left: 20px;\n        }\n\n        tbody tr {\n            border-bottom: 1px solid #e0e0e0;\n            position: relative;\n        }\n\n        tbody tr:nth-child(even) {\n            background: #f9f9f9;\n        }\n\n        tbody tr:hover {\n            background: #f0f4f8;\n        }\n\n        td {\n            padding: 10px 8px;\n            text-align: center;\n            color: #555;\n            border-right: 1px solid #e8e8e8;\n            font-size: 0.9rem;\n        }\n\n        td:first-child {\n            text-align: left;\n            font-weight: 500;\n            color: #333;\n            padding-left: 20px;\n            text-transform: uppercase;\n            font-size: 0.85rem;\n        }\n\n        .progress-bar-cell {\n            padding: 8px 10px !important;\n        }\n\n        .progress-bar {\n            position: relative;\n            height: 24px;\n            background: #f0f0f0;\n            border-radius: 0;\n            overflow: visible;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .progress-fill {\n            position: absolute;\n            left: 0;\n            top: 0;\n            height: 100%;\n            background: #4A90E2;\n            transition: width 0.3s ease;\n        }\n\n        .progress-fill.intercorrencia {\n            background: #f59e0b;\n        }\n\n        .progress-text {\n            position: relative;\n            z-index: 2;\n            font-weight: 600;\n            font-size: 0.8rem;\n        }\n\n        .text-muted {\n            color: #999;\n            font-size: 0.9rem;\n        }\n\n        /* Tooltip para mostrar pedidos */\n        .tooltip-row {\n            position: relative;\n            cursor: pointer;\n            transition: background 0.2s;\n        }\n\n        .tooltip-row:hover {\n            background: #e3f2fd !important;\n        }\n\n        .tooltip-row.active {\n            background: #bbdefb !important;\n        }\n\n        .tooltip-row.active td:first-child::before {\n            content: \"üìå \";\n        }\n\n        .tooltip-content {\n            visibility: hidden;\n            position: fixed;\n            z-index: 9999;\n            background: #333;\n            color: white;\n            padding: 12px 15px;\n            border-radius: 6px;\n            font-size: 0.85rem;\n            white-space: normal;\n            opacity: 0;\n            transition: opacity 0.3s;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n            max-width: 500px;\n            cursor: default;\n            pointer-events: none;\n        }\n\n        .tooltip-row.active .tooltip-content {\n            pointer-events: auto;\n        }\n\n        .tooltip-content::after {\n            content: \"\";\n            position: absolute;\n            top: 100%;\n            left: 50%;\n            margin-left: -5px;\n            border-width: 5px;\n            border-style: solid;\n            border-color: #333 transparent transparent transparent;\n        }\n\n        .tooltip-row:hover .tooltip-content {\n            visibility: visible;\n            opacity: 1;\n        }\n\n        .tooltip-row.active .tooltip-content {\n            visibility: visible !important;\n            opacity: 1 !important;\n        }\n\n        .pedido-tag {\n            display: inline-block;\n            background: #4A90E2;\n            color: white;\n            padding: 2px 6px;\n            margin: 2px;\n            border-radius: 3px;\n            font-size: 0.8rem;\n            cursor: pointer;\n            transition: transform 0.2s, box-shadow 0.2s;\n        }\n\n        .pedido-tag:hover {\n            transform: scale(1.05);\n            box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n            filter: brightness(1.1);\n        }\n\n        .pedido-tag:active {\n            transform: scale(0.98);\n        }\n\n        .pedido-tag.dentro {\n            background: #48bb78;\n        }\n\n        .pedido-tag.fora {\n            background: #f56565;\n        }\n\n        .pedido-tag.com-intercorrencia {\n            background: #f59e0b;\n            position: relative;\n        }\n\n        .pedido-tag.com-intercorrencia::before {\n            content: \"‚ö†Ô∏è \";\n        }\n\n        .pedido-tag.nao-entregue {\n            background: #ed8936;\n        }\n\n        /* Painel de detalhes do pedido abaixo da tabela */\n        .pedido-details-panel {\n            display: none;\n            background: #f8f9fa;\n            border: 2px solid #2c5282;\n            border-radius: 8px;\n            padding: 25px;\n            margin-top: 20px;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n            animation: slideDown 0.3s ease-out;\n        }\n\n        .pedido-details-panel.active {\n            display: block;\n        }\n\n        @keyframes slideDown {\n            from {\n                opacity: 0;\n                transform: translateY(-20px);\n            }\n            to {\n                opacity: 1;\n                transform: translateY(0);\n            }\n        }\n\n        .pedido-details-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 20px;\n            padding-bottom: 15px;\n            border-bottom: 2px solid #2c5282;\n        }\n\n        .pedido-details-close {\n            font-size: 28px;\n            font-weight: bold;\n            color: #999;\n            cursor: pointer;\n            line-height: 1;\n            transition: color 0.2s;\n            padding: 5px 10px;\n        }\n\n        .pedido-details-close:hover {\n            color: #333;\n        }\n\n        .pedido-modal-title {\n            font-size: 1.5rem;\n            font-weight: 600;\n            color: #333;\n            margin-bottom: 20px;\n            padding-right: 30px;\n        }\n\n        .pedido-info-grid {\n            display: grid;\n            grid-template-columns: repeat(2, 1fr);\n            gap: 15px;\n            margin-bottom: 20px;\n        }\n\n        .pedido-info-item {\n            background: #f9f9f9;\n            padding: 12px;\n            border-radius: 4px;\n            border-left: 3px solid #4A90E2;\n        }\n\n        .pedido-info-item.intercorrencia {\n            background: #fff3cd;\n            border-left-color: #f59e0b;\n        }\n\n        .pedido-info-label {\n            font-size: 0.75rem;\n            color: #666;\n            text-transform: uppercase;\n            margin-bottom: 4px;\n            font-weight: 600;\n        }\n\n        .pedido-info-value {\n            font-size: 1rem;\n            color: #333;\n            font-weight: 500;\n        }\n\n        .pedido-status-badge {\n            display: inline-block;\n            padding: 4px 12px;\n            border-radius: 4px;\n            font-size: 0.85rem;\n            font-weight: 600;\n        }\n\n        .pedido-status-badge.dentro {\n            background: #48bb78;\n            color: white;\n        }\n\n        .pedido-status-badge.fora {\n            background: #f56565;\n            color: white;\n        }\n\n        .pedido-status-badge.com-intercorrencia {\n            background: #f59e0b;\n            color: white;\n        }\n\n        .pedido-status-badge.nao-entregue {\n            background: #ed8936;\n            color: white;\n        }\n\n        /* Bloco de c√°lculo de tempo */\n        .calculo-tempo {\n            background: #e3f2fd;\n            border: 2px solid #2c5282;\n            border-radius: 8px;\n            padding: 20px;\n            margin: 20px 0;\n        }\n\n        .calculo-tempo h3 {\n            color: #2c5282;\n            margin-bottom: 15px;\n            font-size: 1.2rem;\n        }\n\n        .calculo-linha {\n            display: grid;\n            grid-template-columns: 200px 1fr;\n            gap: 15px;\n            padding: 10px 0;\n            border-bottom: 1px solid #bfdbfe;\n        }\n\n        .calculo-linha:last-child {\n            border-bottom: none;\n            font-weight: 700;\n            font-size: 1.1rem;\n            padding-top: 15px;\n            border-top: 2px solid #2c5282;\n        }\n\n        .calculo-label {\n            font-weight: 600;\n            color: #555;\n        }\n\n        .calculo-valor {\n            color: #333;\n        }\n\n        .calculo-valor.positivo {\n            color: #48bb78;\n        }\n\n        .calculo-valor.negativo {\n            color: #f56565;\n        }\n\n        .calculo-valor.intercorrencia {\n            color: #f59e0b;\n        }\n\n        .btn-saida {\n            background: #2c5282;\n            color: white;\n            padding: 10px 20px;\n            border: none;\n            border-radius: 6px;\n            font-size: 0.95rem;\n            font-weight: 600;\n            cursor: pointer;\n            transition: background 0.2s;\n            margin: 10px 0;\n        }\n\n        .btn-saida:hover {\n            background: #1e3a5f;\n        }\n\n        .saida-details {\n            display: none;\n            margin-top: 20px;\n            padding: 20px;\n            background: white;\n            border-radius: 6px;\n            border: 2px solid #2c5282;\n        }\n\n        .saida-details.active {\n            display: block;\n        }\n\n        .saida-pedido-item {\n            padding: 15px;\n            margin: 10px 0;\n            background: #f9f9f9;\n            border-left: 4px solid #4A90E2;\n            border-radius: 4px;\n        }\n\n        .saida-pedido-item.primeiro {\n            border-left-color: #48bb78;\n        }\n\n        .saida-pedido-item.com-intercorrencia {\n            border-left-color: #f59e0b;\n        }\n\n        .saida-pedido-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 10px;\n            font-weight: 600;\n        }\n\n        .tooltip-section {\n            margin-top: 10px;\n            padding-top: 8px;\n            border-top: 1px solid rgba(255,255,255,0.2);\n        }\n\n        .tooltip-section-title {\n            font-weight: 600;\n            margin-bottom: 4px;\n            font-size: 0.85rem;\n        }\n\n        @media (max-width: 768px) {\n            .container {\n                padding: 15px;\n            }\n\n            th, td {\n                padding: 8px;\n                font-size: 0.8rem;\n            }\n            \n            .tooltip-content {\n                max-width: 300px;\n                font-size: 0.75rem;\n            }\n        }\n        \n        /* Estilos para colunas orden√°veis */\n        th.sortable {\n            cursor: pointer;\n            user-select: none;\n            transition: background 0.2s;\n            position: relative;\n        }\n        \n        th.sortable:hover {\n            background: #1e3a5f;\n        }\n        \n        th.sortable .sort-arrow {\n            font-size: 0.8rem;\n            margin-left: 5px;\n            opacity: 0.5;\n            transition: opacity 0.2s;\n        }\n        \n        th.sortable:hover .sort-arrow {\n            opacity: 1;\n        }\n        \n        th.sortable.sorted-asc .sort-arrow::before {\n            content: '‚ñ≤';\n            opacity: 1;\n        }\n        \n        th.sortable.sorted-desc .sort-arrow::before {\n            content: '‚ñº';\n            opacity: 1;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n\n        {{\n            (() => {\n                // ========================================\n                // PARSER ROBUSTO DE TEMPO DO GOOGLE\n                // ========================================\n                function parseTempoGoogle(tempoStr) {\n                    if (!tempoStr) return 0;\n                    \n                    const str = tempoStr.toString().toLowerCase();\n                    let totalMinutos = 0;\n                    \n                    // Tentar extrair horas: \"1 hora\", \"2 horas\", \"1h\"\n                    const horasMatch = str.match(/(\\d+)\\s*(hora|horas|h)/);\n                    if (horasMatch) {\n                        totalMinutos += parseInt(horasMatch[1]) * 60;\n                    }\n                    \n                    // Tentar extrair minutos: \"20 minutos\", \"30 min\", \"45m\"\n                    const minutosMatch = str.match(/(\\d+)\\s*(minuto|minutos|min|m)(?!etros)/);\n                    if (minutosMatch) {\n                        totalMinutos += parseInt(minutosMatch[1]);\n                    }\n                    \n                    // Se n√£o encontrou nada, tentar pegar s√≥ o primeiro n√∫mero\n                    if (totalMinutos === 0) {\n                        const numMatch = str.match(/(\\d+)/);\n                        if (numMatch) {\n                            totalMinutos = parseInt(numMatch[1]);\n                        }\n                    }\n                    \n                    return totalMinutos;\n                }\n                \n                // ========================================\n                // PARSER DE TEMPO DE INTERCORR√äNCIA\n                // ========================================\n                function parseTempoIntercorrencia(tempoStr) {\n                    if (!tempoStr) return 0;\n                    \n                    try {\n                        // Formato: \"0 0:30:0.0\" (dias horas:minutos:segundos.ms)\n                        const regex = /(\\d+)\\s+(\\d+):(\\d+):(\\d+)\\.(\\d+)/;\n                        const match = tempoStr.match(regex);\n                        \n                        if (match) {\n                            const [, dias, horas, minutos] = match;\n                            return parseInt(dias) * 1440 + parseInt(horas) * 60 + parseInt(minutos);\n                        }\n                        \n                        return 0;\n                    } catch (error) {\n                        console.error('Erro ao parsear tempo intercorr√™ncia:', tempoStr, error);\n                        return 0;\n                    }\n                }\n                \n                // Obter dados\n                const pedidos = pedidos_e_saidas_do_dia?.data || [];\n                const calculo = calculo_do_google?.data || { logistica_motoboy: [] };\n                const intercorrencias = intercorrencias_bi20?.data || [];\n                \n                if (pedidos.length === 0) {\n                    return `<p class=\"text-center text-muted\">Nenhum dado dispon√≠vel</p>`;\n                }\n                \n                const calc = calculo.logistica_motoboy || [];\n                \n                console.log('üìä === TOTAL ENTREGAS COM INTERCORR√äNCIAS ===');\n                console.log('üì¶ Pedidos:', pedidos.length);\n                console.log('üó∫Ô∏è Google data:', calc.length);\n                console.log('‚ö†Ô∏è Intercorr√™ncias:', intercorrencias.length);\n                \n                // ========================================\n                // CRIAR MAPA DE INTERCORR√äNCIAS POR PEDIDO\n                // ========================================\n                const intercorrenciasPorPedido = {};\n                intercorrencias.forEach(inter => {\n                    const pedido = inter.NUMPED;\n                    if (!intercorrenciasPorPedido[pedido]) {\n                        intercorrenciasPorPedido[pedido] = [];\n                    }\n                    intercorrenciasPorPedido[pedido].push({\n                        id: inter.ID_INTERCORRENCIA,\n                        aprovada: inter.APROVACAO_INTERCORRENCIA === 'TRUE',\n                        tempo: parseTempoIntercorrencia(inter.TEMPO_INTERCORRENCIA),\n                        descricao: inter.DESCRICAO,\n                        motoboy: inter.NOME_MOTOBOY\n                    });\n                });\n                \n                console.log('üîó Intercorr√™ncias mapeadas:', Object.keys(intercorrenciasPorPedido).length, 'pedidos com intercorr√™ncia');\n                \n                // ========================================\n                // AGRUPAR POR SAIDAID E ORDENAR\n                // ========================================\n                const groupedBySaida = {};\n                \n                pedidos.forEach(item => {\n                    const saidaId = item.SAIDAID;\n                    if (!groupedBySaida[saidaId]) {\n                        groupedBySaida[saidaId] = [];\n                    }\n                    groupedBySaida[saidaId].push(item);\n                });\n                \n                // Ordenar cada sa√≠da por ENTREGA_CLIENTE (crescente)\n                Object.keys(groupedBySaida).forEach(saidaId => {\n                    groupedBySaida[saidaId].sort((a, b) => {\n                        return new Date(a.ENTREGA_CLIENTE) - new Date(b.ENTREGA_CLIENTE);\n                    });\n                });\n                \n                // ========================================\n                // CALCULAR POR PEDIDO INDIVIDUAL (COM INTERCORR√äNCIAS)\n                // ========================================\n                const groupedByFilial = {};\n                \n                Object.values(groupedBySaida).forEach(pedidosDaSaida => {\n                    pedidosDaSaida.forEach((item, index) => {\n                        const filial = item.CIDADEFILIAL || 'SEM FILIAL';\n                        \n                        // Garantir que a filial existe no agrupamento\n                        if (!groupedByFilial[filial]) {\n                            groupedByFilial[filial] = {\n                                filial: filial,\n                                totalEntregas: 0,\n                                dentroDoPrazo: 0,\n                                foraDoPrazo: 0,\n                                naoEntregue: 0,\n                                comIntercorrencia: 0,\n                                pedidos: []\n                            };\n                        }\n                        \n                        // Sempre adicionar ao total\n                        groupedByFilial[filial].totalEntregas++;\n                        \n                        const pedido = item.PEDIDO;\n                        \n                        // Verificar se tem intercorr√™ncia\n                        const intercorrenciasDoPedido = intercorrenciasPorPedido[pedido] || [];\n                        const temIntercorrencia = intercorrenciasDoPedido.length > 0;\n                        const temIntercorrenciaAprovada = intercorrenciasDoPedido.some(i => i.aprovada);\n                        \n                        // Buscar no dataset do Google\n                        const linhaGoogle = calc.find(g => g.PEDIDO == pedido);\n                        \n                        // Caso SEM refer√™ncia = N√£o Entregue\n                        if (!linhaGoogle) {\n                            groupedByFilial[filial].naoEntregue++;\n                            groupedByFilial[filial].pedidos.push({ \n                                numero: pedido, \n                                status: 'nao-entregue',\n                                temIntercorrencia: temIntercorrencia\n                            });\n                            if (temIntercorrencia) groupedByFilial[filial].comIntercorrencia++;\n                            return;\n                        }\n                        \n                        // ========================================\n                        // CALCULAR TEMPO LOCAL\n                        // ========================================\n                        let tempoLocal;\n                        \n                        if (index === 0) {\n                            // PRIMEIRO pedido da sa√≠da\n                            tempoLocal = (\n                                (new Date(item.ENTREGA_CLIENTE) - new Date(item.INICIO_ROTA)) / 60000\n                            );\n                        } else {\n                            // PEDIDOS SEGUINTES\n                            const pedidoAnterior = pedidosDaSaida[index - 1];\n                            tempoLocal = (\n                                (new Date(item.ENTREGA_CLIENTE) - new Date(pedidoAnterior.ENTREGA_CLIENTE)) / 60000\n                            );\n                        }\n                        \n                        // Tempo Google (usando parser robusto)\n                        const tempoGoogleBase = parseTempoGoogle(linhaGoogle.TEMPO);\n                        const tempoGoogle = tempoGoogleBase + 5; // +5 min toler√¢ncia\n                        \n                        // ========================================\n                        // ABATER TEMPO DE INTERCORR√äNCIAS APROVADAS\n                        // ========================================\n                        let tempoIntercorrenciaAbatido = 0;\n                        if (temIntercorrenciaAprovada) {\n                            intercorrenciasDoPedido.forEach(inter => {\n                                if (inter.aprovada) {\n                                    tempoIntercorrenciaAbatido += inter.tempo;\n                                }\n                            });\n                        }\n                        \n                        // Tempo ajustado = tempo real - intercorr√™ncias aprovadas\n                        const tempoAjustado = Math.max(0, tempoLocal - tempoIntercorrenciaAbatido);\n                        \n                        // Verifica√ß√£o e armazenamento com categoria\n                        let status = 'dentro';\n                        if (tempoAjustado <= tempoGoogle) {\n                            groupedByFilial[filial].dentroDoPrazo++;\n                            status = 'dentro';\n                        } else {\n                            groupedByFilial[filial].foraDoPrazo++;\n                            status = 'fora';\n                        }\n                        \n                        groupedByFilial[filial].pedidos.push({ \n                            numero: pedido, \n                            status: status,\n                            temIntercorrencia: temIntercorrencia,\n                            tempoReal: tempoLocal,\n                            tempoGoogle: tempoGoogle,\n                            tempoAbatido: tempoIntercorrenciaAbatido,\n                            tempoAjustado: tempoAjustado\n                        });\n                        \n                        if (temIntercorrencia) {\n                            groupedByFilial[filial].comIntercorrencia++;\n                        }\n                    });\n                });\n                \n                // Converter para array e ordenar\n                const filiais = Object.values(groupedByFilial)\n                    .sort((a, b) => a.filial.localeCompare(b.filial));\n                \n                // Calcular totais\n                const totais = {\n                    totalEntregas: filiais.reduce((sum, f) => sum + f.totalEntregas, 0),\n                    dentroDoPrazo: filiais.reduce((sum, f) => sum + f.dentroDoPrazo, 0),\n                    foraDoPrazo: filiais.reduce((sum, f) => sum + f.foraDoPrazo, 0),\n                    naoEntregue: filiais.reduce((sum, f) => sum + f.naoEntregue, 0),\n                    comIntercorrencia: filiais.reduce((sum, f) => sum + f.comIntercorrencia, 0)\n                };\n                \n                console.log('üìà Totais Gerais:', totais);\n                console.log('‚úÖ Dentro do Prazo:', totais.dentroDoPrazo, `(${((totais.dentroDoPrazo / totais.totalEntregas) * 100).toFixed(2)}%)`);\n                console.log('‚ùå Fora do Prazo:', totais.foraDoPrazo, `(${((totais.foraDoPrazo / totais.totalEntregas) * 100).toFixed(2)}%)`);\n                console.log('üèçÔ∏è Em rota:', totais.naoEntregue, `(${((totais.naoEntregue / totais.totalEntregas) * 100).toFixed(2)}%)`);\n                console.log('‚ö†Ô∏è Com Intercorr√™ncia:', totais.comIntercorrencia, `(${((totais.comIntercorrencia / totais.totalEntregas) * 100).toFixed(2)}%)`);\n                \n                const temDadosValidos = totais.dentroDoPrazo > 0 || totais.foraDoPrazo > 0;\n                \n                // ========================================\n                // RENDERIZAR HTML\n                // ========================================\n                return `\n                    <!-- Cards de Resumo -->\n                    <div class=\"summary-cards\">\n                        <div class=\"summary-card\">\n                            <h2>${totais.totalEntregas}</h2>\n                            <p>Total de Entregas</p>\n                        </div>\n                        \n                        <div class=\"summary-card\">\n                            <h2 style=\"color: #48bb78;\">${totais.dentroDoPrazo}</h2>\n                            <p>‚úÖ Dentro do Prazo</p>\n                        </div>\n                        \n                        <div class=\"summary-card\">\n                            <h2 style=\"color: #f56565;\">${totais.foraDoPrazo}</h2>\n                            <p>‚ùå Fora do Prazo</p>\n                        </div>\n                        \n                        <div class=\"summary-card\">\n                            <h2 style=\"color: #ed8936;\">${totais.naoEntregue}</h2>\n                            <p>üèçÔ∏è Em Rota</p>\n                        </div>\n                        \n                        <div class=\"summary-card intercorrencia\">\n                            <h2 style=\"color: #f59e0b;\">${totais.comIntercorrencia}</h2>\n                            <p>‚ö†Ô∏è Com Intercorr√™ncia</p>\n                        </div>\n                    </div>\n                    \n                    ${!temDadosValidos ? `\n                        <div style=\"background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin-bottom: 20px; border-radius: 4px;\">\n                            <strong>‚ö†Ô∏è Aviso:</strong> N√£o foi poss√≠vel calcular a classifica√ß√£o de prazo. \n                            Verifique se os campos <code>INICIO_ROTA</code> e <code>ENTREGA_CLIENTE</code> t√™m timestamps completos (data + hora).\n                            <br><small>Abra o Console (F12) para mais detalhes.</small>\n                        </div>\n                    ` : ''}\n                    \n                    <div class=\"table-container\">\n                        <table id=\"tabelaEntregas\">\n                            <thead>\n                                <tr>\n                                    <th class=\"sortable\" data-column=\"filial\" data-type=\"text\">\n                                        FILIAL <span class=\"sort-arrow\">‚áÖ</span>\n                                    </th>\n                                    <th class=\"sortable\" data-column=\"total\" data-type=\"number\">\n                                        Total <span class=\"sort-arrow\">‚áÖ</span>\n                                    </th>\n                                    <th class=\"sortable\" data-column=\"dentro\" data-type=\"number\">\n                                        Dentro <span class=\"sort-arrow\">‚áÖ</span>\n                                    </th>\n                                    <th class=\"sortable\" data-column=\"dentro-perc\" data-type=\"number\">\n                                        % Prazo <span class=\"sort-arrow\">‚áÖ</span>\n                                    </th>\n                                    <th class=\"sortable\" data-column=\"fora\" data-type=\"number\">\n                                        Fora <span class=\"sort-arrow\">‚áÖ</span>\n                                    </th>\n                                    <th class=\"sortable\" data-column=\"fora-perc\" data-type=\"number\">\n                                        % Fora <span class=\"sort-arrow\">‚áÖ</span>\n                                    </th>\n                                    <th class=\"sortable\" data-column=\"nao-entregue\" data-type=\"number\">\n                                        üèçÔ∏è Em Rota. <span class=\"sort-arrow\">‚áÖ</span>\n                                    </th>\n                                    <th class=\"sortable\" data-column=\"nao-entregue-perc\" data-type=\"number\">\n                                        % N√£o Ent. <span class=\"sort-arrow\">‚áÖ</span>\n                                    </th>\n                                    <th class=\"sortable\" data-column=\"intercorrencia\" data-type=\"number\">\n                                        ‚ö†Ô∏è Interc. <span class=\"sort-arrow\">‚áÖ</span>\n                                    </th>\n                                    <th class=\"sortable\" data-column=\"intercorrencia-perc\" data-type=\"number\">\n                                        % Interc. <span class=\"sort-arrow\">‚áÖ</span>\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody id=\"corpoTabelaEntregas\">\n                                ${filiais.map(filial => {\n                                    const percNoPrazo = filial.totalEntregas > 0 ? \n                                        (filial.dentroDoPrazo / filial.totalEntregas) : 0;\n                                    const percForaPrazo = filial.totalEntregas > 0 ? \n                                        (filial.foraDoPrazo / filial.totalEntregas) : 0;\n                                    const percNaoEntregue = filial.totalEntregas > 0 ? \n                                        (filial.naoEntregue / filial.totalEntregas) : 0;\n                                    const percIntercorrencia = filial.totalEntregas > 0 ? \n                                        (filial.comIntercorrencia / filial.totalEntregas) : 0;\n                                    \n                                    // Separar pedidos por categoria\n                                    const pedidosDentro = filial.pedidos.filter(p => p.status === 'dentro');\n                                    const pedidosFora = filial.pedidos.filter(p => p.status === 'fora');\n                                    const pedidosNaoEntregue = filial.pedidos.filter(p => p.status === 'nao-entregue');\n                                    const pedidosComIntercorrencia = filial.pedidos.filter(p => p.temIntercorrencia);\n                                    \n                                    // Criar HTML segmentado\n                                    let tooltipContent = `\n                                        <strong>${filial.filial}</strong><br>\n                                        <small>Total: ${filial.totalEntregas} pedidos</small>\n                                        <div style=\"max-height: 300px; overflow-y: auto;\">\n                                    `;\n                                    \n                                    if (pedidosDentro.length > 0) {\n                                        tooltipContent += `\n                                            <div class=\"tooltip-section\">\n                                                <div class=\"tooltip-section-title\">‚úÖ Dentro do Prazo (${pedidosDentro.length})</div>\n                                                ${pedidosDentro.map(p => `<span class=\"pedido-tag ${p.temIntercorrencia ? 'com-intercorrencia' : 'dentro'}\" onclick=\"mostrarDetalhesPedido('${p.numero}', '${p.status}')\">${p.numero}</span>`).join('')}\n                                            </div>\n                                        `;\n                                    }\n                                    \n                                    if (pedidosFora.length > 0) {\n                                        tooltipContent += `\n                                            <div class=\"tooltip-section\">\n                                                <div class=\"tooltip-section-title\">‚ùå Fora do Prazo (${pedidosFora.length})</div>\n                                                ${pedidosFora.map(p => `<span class=\"pedido-tag ${p.temIntercorrencia ? 'com-intercorrencia' : 'fora'}\" onclick=\"mostrarDetalhesPedido('${p.numero}', '${p.status}')\">${p.numero}</span>`).join('')}\n                                            </div>\n                                        `;\n                                    }\n                                    \n                                    if (pedidosNaoEntregue.length > 0) {\n                                        tooltipContent += `\n                                            <div class=\"tooltip-section\">\n                                                <div class=\"tooltip-section-title\">üèçÔ∏è Em rota (${pedidosNaoEntregue.length})</div>\n                                                ${pedidosNaoEntregue.map(p => `<span class=\"pedido-tag ${p.temIntercorrencia ? 'com-intercorrencia' : 'nao-entregue'}\" onclick=\"mostrarDetalhesPedido('${p.numero}', '${p.status}')\">${p.numero}</span>`).join('')}\n                                            </div>\n                                        `;\n                                    }\n                                    \n                                    if (pedidosComIntercorrencia.length > 0) {\n                                        tooltipContent += `\n                                            <div class=\"tooltip-section\">\n                                                <div class=\"tooltip-section-title\">‚ö†Ô∏è Com Intercorr√™ncia (${pedidosComIntercorrencia.length})</div>\n                                                ${pedidosComIntercorrencia.map(p => `<span class=\"pedido-tag com-intercorrencia\" onclick=\"mostrarDetalhesPedido('${p.numero}', '${p.status}')\">${p.numero}</span>`).join('')}\n                                            </div>\n                                        `;\n                                    }\n                                    \n                                    tooltipContent += `</div>`;\n                                    \n                                    return `\n                                        <tr class=\"tooltip-row\"\n                                            data-filial=\"${filial.filial}\"\n                                            data-total=\"${filial.totalEntregas}\"\n                                            data-dentro=\"${filial.dentroDoPrazo}\"\n                                            data-dentro-perc=\"${(percNoPrazo * 100).toFixed(2)}\"\n                                            data-fora=\"${filial.foraDoPrazo}\"\n                                            data-fora-perc=\"${(percForaPrazo * 100).toFixed(2)}\"\n                                            data-nao-entregue=\"${filial.naoEntregue}\"\n                                            data-nao-entregue-perc=\"${(percNaoEntregue * 100).toFixed(2)}\"\n                                            data-intercorrencia=\"${filial.comIntercorrencia}\"\n                                            data-intercorrencia-perc=\"${(percIntercorrencia * 100).toFixed(2)}\">\n                                            <td>\n                                                ${filial.filial}\n                                                <div class=\"tooltip-content\">\n                                                    ${tooltipContent}\n                                                </div>\n                                            </td>\n                                            <td>${filial.totalEntregas}</td>\n                                            <td>${filial.dentroDoPrazo}</td>\n                                            <td class=\"progress-bar-cell\">\n                                                <div class=\"progress-bar\">\n                                                    <div class=\"progress-fill\" style=\"width: ${(percNoPrazo * 100).toFixed(2)}%\"></div>\n                                                    <span class=\"progress-text\" style=\"color: #000;\">${(percNoPrazo * 100).toFixed(2)}%</span>\n                                                </div>\n                                            </td>\n                                            <td>${filial.foraDoPrazo}</td>\n                                            <td class=\"progress-bar-cell\">\n                                                <div class=\"progress-bar\">\n                                                    <div class=\"progress-fill\" style=\"width: ${(percForaPrazo * 100).toFixed(2)}%; background: #f56565;\"></div>\n                                                    <span class=\"progress-text\" style=\"color: #000;\">${(percForaPrazo * 100).toFixed(2)}%</span>\n                                                </div>\n                                            </td>\n                                            <td>${filial.naoEntregue}</td>\n                                            <td class=\"progress-bar-cell\">\n                                                <div class=\"progress-bar\">\n                                                    <div class=\"progress-fill\" style=\"width: ${(percNaoEntregue * 100).toFixed(2)}%; background: #ed8936;\"></div>\n                                                    <span class=\"progress-text\" style=\"color: #000;\">${(percNaoEntregue * 100).toFixed(2)}%</span>\n                                                </div>\n                                            </td>\n                                            <td>${filial.comIntercorrencia}</td>\n                                            <td class=\"progress-bar-cell\">\n                                                <div class=\"progress-bar\">\n                                                    <div class=\"progress-fill intercorrencia\" style=\"width: ${(percIntercorrencia * 100).toFixed(2)}%;\"></div>\n                                                    <span class=\"progress-text\" style=\"color: #000;\">${(percIntercorrencia * 100).toFixed(2)}%</span>\n                                                </div>\n                                            </td>\n                                        </tr>\n                                    `;\n                                }).join('')}\n                            </tbody>\n                        </table>\n                    </div>\n                `;\n            })()\n        }}\n        \n        <!-- Painel de detalhes do pedido (fora do template) -->\n        <div id=\"pedidoDetailsPanel\" class=\"pedido-details-panel\">\n            <div class=\"pedido-details-header\">\n                <div class=\"pedido-modal-title\" id=\"pedidoDetailsTitle\"></div>\n                <span class=\"pedido-details-close\" onclick=\"fecharDetalhes()\">&times;</span>\n            </div>\n            <div id=\"pedidoDetailsBody\"></div>\n        </div>\n    </div>\n\n    <script>\n        // ========================================\n        // PARSER ROBUSTO DE TEMPO DO GOOGLE\n        // ========================================\n        function parseTempoGoogle(tempoStr) {\n            if (!tempoStr) return 0;\n            \n            const str = tempoStr.toString().toLowerCase();\n            let totalMinutos = 0;\n            \n            // Tentar extrair horas: \"1 hora\", \"2 horas\", \"1h\"\n            const horasMatch = str.match(/(\\d+)\\s*(hora|horas|h)/);\n            if (horasMatch) {\n                totalMinutos += parseInt(horasMatch[1]) * 60;\n            }\n            \n            // Tentar extrair minutos: \"20 minutos\", \"30 min\", \"45m\"\n            const minutosMatch = str.match(/(\\d+)\\s*(minuto|minutos|min|m)(?!etros)/);\n            if (minutosMatch) {\n                totalMinutos += parseInt(minutosMatch[1]);\n            }\n            \n            // Se n√£o encontrou nada, tentar pegar s√≥ o primeiro n√∫mero\n            if (totalMinutos === 0) {\n                const numMatch = str.match(/(\\d+)/);\n                if (numMatch) {\n                    totalMinutos = parseInt(numMatch[1]);\n                }\n            }\n            \n            return totalMinutos;\n        }\n        \n        // ========================================\n        // PARSER DE TEMPO DE INTERCORR√äNCIA\n        // ========================================\n        function parseTempoIntercorrencia(tempoStr) {\n            if (!tempoStr) return 0;\n            \n            try {\n                // Formato: \"0 0:30:0.0\" (dias horas:minutos:segundos.ms)\n                const regex = /(\\d+)\\s+(\\d+):(\\d+):(\\d+)\\.(\\d+)/;\n                const match = tempoStr.match(regex);\n                \n                if (match) {\n                    const [, dias, horas, minutos] = match;\n                    return parseInt(dias) * 1440 + parseInt(horas) * 60 + parseInt(minutos);\n                }\n                \n                return 0;\n            } catch (error) {\n                console.error('Erro ao parsear tempo intercorr√™ncia:', tempoStr, error);\n                return 0;\n            }\n        }\n        \n        // Dados globais para o modal\n        let pedidosData = [];\n        let googleData = [];\n        let rotasData = [];\n        let intercorrenciasData = [];\n        \n        // Armazenar dados dos pedidos\n        {{\n            (() => {\n                const pedidos = pedidos_e_saidas_do_dia?.data || [];\n                return `pedidosData = ${JSON.stringify(pedidos)};`;\n            })()\n        }}\n        \n        // Armazenar dados do Google\n        {{\n            (() => {\n                const calculo = calculo_do_google?.data?.logistica_motoboy || [];\n                return `googleData = ${JSON.stringify(calculo)};`;\n            })()\n        }}\n        \n        // Armazenar dados das rotas\n        {{\n            (() => {\n                const rotas = dmaplicativo_prod_rotas_otimiz?.data || [];\n                return `rotasData = ${JSON.stringify(rotas)};`;\n            })()\n        }}\n        \n        // Armazenar dados de intercorr√™ncias\n        {{\n            (() => {\n                const intercorrencias = intercorrencias_bi20?.data || [];\n                return `intercorrenciasData = ${JSON.stringify(intercorrencias)};`;\n            })()\n        }}\n        \n        // Usar setTimeout para garantir que o DOM foi renderizado\n        setTimeout(function() {\n            const rows = document.querySelectorAll('.tooltip-row');\n            \n            rows.forEach(row => {\n                row.addEventListener('click', function(e) {\n                    // N√£o fazer nada se clicou em um pedido\n                    if (e.target.classList.contains('pedido-tag')) {\n                        return;\n                    }\n                    \n                    e.stopPropagation();\n                    \n                    // Remover active de todas as outras linhas\n                    rows.forEach(r => {\n                        if (r !== row) {\n                            r.classList.remove('active');\n                        }\n                    });\n                    \n                    // Toggle active na linha clicada\n                    const wasActive = row.classList.contains('active');\n                    row.classList.toggle('active');\n                    \n                    // Posicionar tooltip\n                    if (!wasActive) {\n                        positionTooltip(row);\n                    }\n                });\n            });\n            \n            // Posicionar tooltip usando coordenadas fixas\n            function positionTooltip(row) {\n                const tooltip = row.querySelector('.tooltip-content');\n                const rect = row.getBoundingClientRect();\n                \n                tooltip.style.left = rect.left + (rect.width / 2) + 'px';\n                tooltip.style.top = (rect.top - 10) + 'px';\n                tooltip.style.transform = 'translate(-50%, -100%)';\n            }\n            \n            // Fechar tooltip ao clicar fora\n            document.addEventListener('click', function(e) {\n                if (!e.target.closest('.tooltip-row') && !e.target.closest('.pedido-modal')) {\n                    rows.forEach(row => {\n                        row.classList.remove('active');\n                    });\n                }\n            });\n            \n            // Prevenir que cliques no tooltip fechem ele\n            document.querySelectorAll('.tooltip-content').forEach(tooltip => {\n                tooltip.addEventListener('click', function(e) {\n                    e.stopPropagation();\n                });\n            });\n            \n            console.log('‚úÖ Event listeners configurados!');\n            console.log('üì¶ Pedidos carregados:', pedidosData.length);\n            console.log('üó∫Ô∏è Google data carregado:', googleData.length);\n            console.log('üöö Rotas carregadas:', rotasData.length);\n            console.log('‚ö†Ô∏è Intercorr√™ncias carregadas:', intercorrenciasData.length);\n            \n            // ========================================\n            // ORDENA√á√ÉO DE COLUNAS\n            // ========================================\n            const sortableHeaders = document.querySelectorAll('th.sortable');\n            let currentSort = { column: null, direction: 'asc' };\n            \n            sortableHeaders.forEach(header => {\n                header.addEventListener('click', function() {\n                    const column = this.getAttribute('data-column');\n                    const type = this.getAttribute('data-type');\n                    \n                    // Determinar dire√ß√£o da ordena√ß√£o\n                    if (currentSort.column === column) {\n                        currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';\n                    } else {\n                        currentSort.direction = 'asc';\n                    }\n                    currentSort.column = column;\n                    \n                    // Remover classes de todas as headers\n                    sortableHeaders.forEach(h => {\n                        h.classList.remove('sorted-asc', 'sorted-desc');\n                    });\n                    \n                    // Adicionar classe √† header atual\n                    this.classList.add(`sorted-${currentSort.direction}`);\n                    \n                    // Ordenar a tabela\n                    sortTable(column, type, currentSort.direction);\n                });\n            });\n            \n            function sortTable(column, type, direction) {\n                const tbody = document.getElementById('corpoTabelaEntregas');\n                const rows = Array.from(tbody.querySelectorAll('tr'));\n                \n                rows.sort((a, b) => {\n                    let aVal = a.getAttribute(`data-${column}`);\n                    let bVal = b.getAttribute(`data-${column}`);\n                    \n                    if (type === 'number') {\n                        aVal = parseFloat(aVal) || 0;\n                        bVal = parseFloat(bVal) || 0;\n                        return direction === 'asc' ? aVal - bVal : bVal - aVal;\n                    } else {\n                        // Ordena√ß√£o alfab√©tica\n                        aVal = (aVal || '').toString().toLowerCase();\n                        bVal = (bVal || '').toString().toLowerCase();\n                        if (direction === 'asc') {\n                            return aVal.localeCompare(bVal);\n                        } else {\n                            return bVal.localeCompare(aVal);\n                        }\n                    }\n                });\n                \n                // Limpar tbody e adicionar linhas ordenadas\n                tbody.innerHTML = '';\n                rows.forEach(row => tbody.appendChild(row));\n                \n                console.log(`üìä Tabela ordenada por ${column} (${direction})`);\n            }\n        }, 500);\n        \n        function fecharDetalhes() {\n            const panel = document.getElementById('pedidoDetailsPanel');\n            if (panel) {\n                panel.classList.remove('active');\n            }\n        }\n        \n        function mostrarDetalhesPedido(pedidoNum, statusPedido) {\n            console.log('üìã Mostrando detalhes para pedido:', pedidoNum, 'Status:', statusPedido);\n            \n            const pedido = pedidosData.find(p => p.PEDIDO == pedidoNum);\n            \n            if (!pedido) {\n                console.error('‚ùå Pedido n√£o encontrado:', pedidoNum);\n                alert('Pedido n√£o encontrado!');\n                return;\n            }\n            \n            console.log('‚úÖ Pedido encontrado:', pedido);\n            \n            const googleInfo = googleData.find(g => g.PEDIDO == pedidoNum);\n            const rotaInfo = rotasData.find(r => r.pedido_numero == pedidoNum);\n            \n            // Buscar intercorr√™ncias do pedido\n            const intercorrenciasDoPedido = intercorrenciasData.filter(i => i.NUMPED == pedidoNum);\n            const temIntercorrencia = intercorrenciasDoPedido.length > 0;\n            \n            console.log('üó∫Ô∏è Google info:', googleInfo);\n            console.log('üöö Rota info:', rotaInfo);\n            console.log('‚ö†Ô∏è Intercorr√™ncias:', intercorrenciasDoPedido);\n            \n            // Formatar datas\n            const formatarData = (data) => {\n                if (!data) return 'N/A';\n                const d = new Date(data);\n                return d.toLocaleString('pt-BR');\n            };\n            \n            // Converter segundos para minutos formatados\n            const formatarTempo = (segundos) => {\n                if (!segundos) return 'N/A';\n                const min = Math.floor(segundos / 60);\n                const seg = segundos % 60;\n                return `${min}min ${seg}s`;\n            };\n            \n            // Calcular tempo real do pedido\n            const pedidosDaSaida = pedidosData.filter(p => p.SAIDAID == pedido.SAIDAID);\n            pedidosDaSaida.sort((a, b) => new Date(a.ENTREGA_CLIENTE) - new Date(b.ENTREGA_CLIENTE));\n            const indexNaSaida = pedidosDaSaida.findIndex(p => p.PEDIDO == pedidoNum);\n            \n            let tempoReal = 0;\n            let tempoBase = '';\n            \n            if (indexNaSaida === 0) {\n                const inicioRota = new Date(pedido.INICIO_ROTA);\n                const entregaCliente = new Date(pedido.ENTREGA_CLIENTE);\n                tempoReal = (entregaCliente - inicioRota) / 60000;\n                tempoBase = `desde In√≠cio da Rota`;\n            } else {\n                const pedidoAnterior = pedidosDaSaida[indexNaSaida - 1];\n                const entregaAnterior = new Date(pedidoAnterior.ENTREGA_CLIENTE);\n                const entregaAtual = new Date(pedido.ENTREGA_CLIENTE);\n                tempoReal = (entregaAtual - entregaAnterior) / 60000;\n                tempoBase = `desde Pedido ${pedidoAnterior.PEDIDO}`;\n            }\n            \n            // Tempo do Google (parser robusto)\n            const tempoGoogleBase = googleInfo ? parseTempoGoogle(googleInfo.TEMPO) : 0;\n            const tempoGoogle = tempoGoogleBase + 5; // +5 min toler√¢ncia\n            \n            // Calcular tempo de intercorr√™ncias aprovadas\n            let tempoIntercorrenciaAbatido = 0;\n            let intercorrenciasAprovadas = [];\n            intercorrenciasDoPedido.forEach(inter => {\n                if (inter.APROVACAO_INTERCORRENCIA === 'TRUE') {\n                    const tempo = parseTempoIntercorrencia(inter.TEMPO_INTERCORRENCIA);\n                    tempoIntercorrenciaAbatido += tempo;\n                    intercorrenciasAprovadas.push({\n                        id: inter.ID_INTERCORRENCIA,\n                        tempo: tempo,\n                        descricao: inter.DESCRICAO,\n                        quemAprovou: inter.NOME_QUEM_APROVOU,\n                        justificativa: inter.JUSTIFICATIVA_APROVACAO\n                    });\n                }\n            });\n            \n            // Tempo ajustado\n            const tempoAjustado = Math.max(0, tempoReal - tempoIntercorrenciaAbatido);\n            \n            // Determinar status\n            let status = statusPedido || 'nao-entregue';\n            let statusTexto = 'üèçÔ∏è Em rota';\n            \n            if (status === 'dentro') {\n                statusTexto = '‚úÖ Dentro do Prazo';\n            } else if (status === 'fora') {\n                statusTexto = '‚ùå Fora do Prazo';\n            }\n            \n            if (temIntercorrencia) {\n                statusTexto += ' ‚ö†Ô∏è';\n            }\n            \n            // Atualizar painel de detalhes\n            const panel = document.getElementById('pedidoDetailsPanel');\n            const title = document.getElementById('pedidoDetailsTitle');\n            const body = document.getElementById('pedidoDetailsBody');\n            \n            if (!panel || !title || !body) {\n                console.error('‚ùå Elementos do painel n√£o encontrados!');\n                return;\n            }\n            \n            title.innerHTML = `Pedido ${pedidoNum}`;\n            body.innerHTML = `\n                <div style=\"margin-bottom: 20px; display: flex; gap: 15px; align-items: center; flex-wrap: wrap;\">\n                    <span class=\"pedido-status-badge ${temIntercorrencia ? 'com-intercorrencia' : status}\">${statusTexto}</span>\n                    <button class=\"btn-saida\" onclick=\"mostrarPedidosDaSaida('${pedido.SAIDAID}')\">\n                        üöö Ver Todos os Pedidos da Sa√≠da ${pedido.SAIDAID}\n                    </button>\n                </div>\n                \n                <!-- C√ÅLCULO DE TEMPO DETALHADO -->\n                ${googleInfo ? `\n                <div class=\"calculo-tempo\">\n                    <h3>üìä C√°lculo Detalhado de Tempo</h3>\n                    \n                    <div class=\"calculo-linha\">\n                        <div class=\"calculo-label\">üïê Tempo Real (${tempoBase}):</div>\n                        <div class=\"calculo-valor\">${tempoReal.toFixed(2)} minutos</div>\n                    </div>\n                    \n                    ${temIntercorrencia && intercorrenciasAprovadas.length > 0 ? `\n                    <div class=\"calculo-linha\">\n                        <div class=\"calculo-label\">‚ö†Ô∏è Intercorr√™ncia(s) Aprovada(s):</div>\n                        <div class=\"calculo-valor intercorrencia\">- ${tempoIntercorrenciaAbatido.toFixed(2)} minutos (ABATIDO)</div>\n                    </div>\n                    \n                    <div class=\"calculo-linha\">\n                        <div class=\"calculo-label\">‚úÖ Tempo Ajustado (Real - Interc.):</div>\n                        <div class=\"calculo-valor\">${tempoAjustado.toFixed(2)} minutos</div>\n                    </div>\n                    ` : ''}\n                    \n                    <div class=\"calculo-linha\">\n                        <div class=\"calculo-label\">üó∫Ô∏è Tempo Google Maps:</div>\n                        <div class=\"calculo-valor\">${tempoGoogleBase} minutos (original: \"${googleInfo.TEMPO}\")</div>\n                    </div>\n                    \n                    <div class=\"calculo-linha\">\n                        <div class=\"calculo-label\">‚è±Ô∏è Com Toler√¢ncia (+5min):</div>\n                        <div class=\"calculo-valor\">${tempoGoogle} minutos</div>\n                    </div>\n                    \n                    <div class=\"calculo-linha\">\n                        <div class=\"calculo-label\">üìà Resultado:</div>\n                        <div class=\"calculo-valor ${tempoAjustado <= tempoGoogle ? 'positivo' : 'negativo'}\">\n                            ${tempoAjustado.toFixed(2)} ${tempoAjustado <= tempoGoogle ? '‚â§' : '>'} ${tempoGoogle} = \n                            ${tempoAjustado <= tempoGoogle ? '‚úÖ DENTRO DO PRAZO' : '‚ùå FORA DO PRAZO'}\n                        </div>\n                    </div>\n                </div>\n                ` : '<div style=\"background: #fff3cd; padding: 15px; border-radius: 8px; margin: 20px 0;\"><strong>‚ö†Ô∏è Aviso:</strong> Dados do Google Maps n√£o encontrados para este pedido.</div>'}\n                \n                <!-- INTERCORR√äNCIAS -->\n                ${temIntercorrencia ? `\n                <div style=\"background: #fff3cd; border: 2px solid #f59e0b; border-radius: 8px; padding: 20px; margin: 20px 0;\">\n                    <h3 style=\"color: #f59e0b; margin-bottom: 15px;\">‚ö†Ô∏è Intercorr√™ncias Registradas (${intercorrenciasDoPedido.length})</h3>\n                    ${intercorrenciasDoPedido.map(inter => {\n                        const tempo = parseTempoIntercorrencia(inter.TEMPO_INTERCORRENCIA);\n                        const aprovada = inter.APROVACAO_INTERCORRENCIA === 'TRUE';\n                        return `\n                        <div class=\"pedido-info-grid\" style=\"margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #f59e0b;\">\n                            <div class=\"pedido-info-item intercorrencia\">\n                                <div class=\"pedido-info-label\">ID Intercorr√™ncia</div>\n                                <div class=\"pedido-info-value\">#${inter.ID_INTERCORRENCIA}</div>\n                            </div>\n                            \n                            <div class=\"pedido-info-item intercorrencia\">\n                                <div class=\"pedido-info-label\">Status</div>\n                                <div class=\"pedido-info-value\">${aprovada ? '‚úÖ APROVADA' : '‚è≥ Pendente'}</div>\n                            </div>\n                            \n                            <div class=\"pedido-info-item intercorrencia\">\n                                <div class=\"pedido-info-label\">Tempo Intercorr√™ncia</div>\n                                <div class=\"pedido-info-value\">${tempo.toFixed(2)} minutos ${aprovada ? '(ABATIDO)' : '(N√ÉO ABATIDO)'}</div>\n                            </div>\n                            \n                            <div class=\"pedido-info-item intercorrencia\">\n                                <div class=\"pedido-info-label\">Motoboy</div>\n                                <div class=\"pedido-info-value\">${inter.NOME_MOTOBOY || 'N/A'}</div>\n                            </div>\n                            \n                            <div class=\"pedido-info-item intercorrencia\" style=\"grid-column: 1 / -1;\">\n                                <div class=\"pedido-info-label\">Descri√ß√£o</div>\n                                <div class=\"pedido-info-value\">${inter.DESCRICAO || 'Sem descri√ß√£o'}</div>\n                            </div>\n                            \n                            ${aprovada ? `\n                            <div class=\"pedido-info-item intercorrencia\">\n                                <div class=\"pedido-info-label\">Aprovado Por</div>\n                                <div class=\"pedido-info-value\">${inter.NOME_QUEM_APROVOU || 'N/A'}</div>\n                            </div>\n                            \n                            <div class=\"pedido-info-item intercorrencia\">\n                                <div class=\"pedido-info-label\">Justificativa</div>\n                                <div class=\"pedido-info-value\">${inter.JUSTIFICATIVA_APROVACAO || 'Sem justificativa'}</div>\n                            </div>\n                            ` : ''}\n                        </div>\n                        `;\n                    }).join('')}\n                </div>\n                ` : ''}\n                \n                <!-- Container para detalhes da sa√≠da -->\n                <div id=\"saidaDetails\" class=\"saida-details\"></div>\n                \n                <h3 style=\"font-size: 1.1rem; margin-bottom: 10px; color: #2c5282;\">üìã Informa√ß√µes B√°sicas</h3>\n                <div class=\"pedido-info-grid\">\n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Sa√≠da ID</div>\n                        <div class=\"pedido-info-value\">${pedido.SAIDAID || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">C√≥digo Filial</div>\n                        <div class=\"pedido-info-value\">${pedido.CODFILIAL || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Filial</div>\n                        <div class=\"pedido-info-value\">${pedido.CIDADEFILIAL || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">C√≥digo Rota</div>\n                        <div class=\"pedido-info-value\">${pedido.CODROTA || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">RCA</div>\n                        <div class=\"pedido-info-value\">${pedido.RCA || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Motoboy</div>\n                        <div class=\"pedido-info-value\">${pedido.MOTOBOY || 'N/A'}</div>\n                    </div>\n                </div>\n                \n                <h3 style=\"font-size: 1.1rem; margin: 20px 0 10px; color: #2c5282;\">üë§ Cliente</h3>\n                <div class=\"pedido-info-grid\">\n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">C√≥digo Cliente</div>\n                        <div class=\"pedido-info-value\">${pedido.COD_CLI || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Raz√£o Social</div>\n                        <div class=\"pedido-info-value\">${pedido.RAZAO_SOCIAL || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\" style=\"grid-column: 1 / -1;\">\n                        <div class=\"pedido-info-label\">Endere√ßo</div>\n                        <div class=\"pedido-info-value\">${pedido.ENDERECO || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">CEP</div>\n                        <div class=\"pedido-info-value\">${pedido.CEP || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Cidade</div>\n                        <div class=\"pedido-info-value\">${pedido.CIDADE || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Estado</div>\n                        <div class=\"pedido-info-value\">${pedido.ESTADO || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Entrega Posterior</div>\n                        <div class=\"pedido-info-value\">${pedido.ENTREGAPOSTERIOR || 'N/A'}</div>\n                    </div>\n                </div>\n                \n                <h3 style=\"font-size: 1.1rem; margin: 20px 0 10px; color: #2c5282;\">üìç Localiza√ß√£o</h3>\n                <div class=\"pedido-info-grid\">\n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Latitude</div>\n                        <div class=\"pedido-info-value\">${pedido.LATITUDE || 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Longitude</div>\n                        <div class=\"pedido-info-value\">${pedido.LONGITUDE || 'N/A'}</div>\n                    </div>\n                    \n                    ${rotaInfo ? `\n                        <div class=\"pedido-info-item\">\n                            <div class=\"pedido-info-label\">Ordem na Rota</div>\n                            <div class=\"pedido-info-value\">${rotaInfo.num_ordem}¬∫</div>\n                        </div>\n                        \n                        <div class=\"pedido-info-item\">\n                            <div class=\"pedido-info-label\">Rota Cliente</div>\n                            <div class=\"pedido-info-value\">${rotaInfo.rota_cliente || 'N/A'}</div>\n                        </div>\n                    ` : ''}\n                </div>\n                \n                <h3 style=\"font-size: 1.1rem; margin: 20px 0 10px; color: #2c5282;\">‚è±Ô∏è Tempos e Dist√¢ncias</h3>\n                <div class=\"pedido-info-grid\">\n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">In√≠cio Rota</div>\n                        <div class=\"pedido-info-value\">${formatarData(pedido.INICIO_ROTA)}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Entrega Cliente</div>\n                        <div class=\"pedido-info-value\">${formatarData(pedido.ENTREGA_CLIENTE)}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Fim Rota</div>\n                        <div class=\"pedido-info-value\">${formatarData(pedido.FIM_ROTA)}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Tempo Previsto (Google)</div>\n                        <div class=\"pedido-info-value\">${googleInfo ? googleInfo.TEMPO : 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Dist√¢ncia (Google)</div>\n                        <div class=\"pedido-info-value\">${googleInfo && googleInfo.KM ? googleInfo.KM + ' km' : 'N/A'}</div>\n                    </div>\n                    \n                    ${rotaInfo ? `\n                        <div class=\"pedido-info-item\">\n                            <div class=\"pedido-info-label\">Tempo at√© o Ponto</div>\n                            <div class=\"pedido-info-value\">${formatarTempo(rotaInfo.tempo_ate_o_ponto_seg)}</div>\n                        </div>\n                        \n                        <div class=\"pedido-info-item\">\n                            <div class=\"pedido-info-label\">Dist√¢ncia at√© o Ponto</div>\n                            <div class=\"pedido-info-value\">${(rotaInfo.metros_ate_o_ponto / 1000).toFixed(2)} km</div>\n                        </div>\n                    ` : ''}\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Tempo Retorno (Google)</div>\n                        <div class=\"pedido-info-value\">${googleInfo && googleInfo.RETORNO ? googleInfo.RETORNO : 'N/A'}</div>\n                    </div>\n                    \n                    <div class=\"pedido-info-item\">\n                        <div class=\"pedido-info-label\">Status Google</div>\n                        <div class=\"pedido-info-value\">${googleInfo && googleInfo.STATUS ? googleInfo.STATUS : 'N/A'}</div>\n                    </div>\n                </div>\n                \n                ${rotaInfo ? `\n                    <h3 style=\"font-size: 1.1rem; margin: 20px 0 10px; color: #2c5282;\">üöö Informa√ß√µes da Rota Completa</h3>\n                    <div class=\"pedido-info-grid\">\n                        <div class=\"pedido-info-item\">\n                            <div class=\"pedido-info-label\">Dura√ß√£o Total Rota</div>\n                            <div class=\"pedido-info-value\">${formatarTempo(rotaInfo.duracao_total_rota_seg)}</div>\n                        </div>\n                        \n                        <div class=\"pedido-info-item\">\n                            <div class=\"pedido-info-label\">Dist√¢ncia Total Rota</div>\n                            <div class=\"pedido-info-value\">${(rotaInfo.distancia_total_rota_metros / 1000).toFixed(2)} km</div>\n                        </div>\n                        \n                        <div class=\"pedido-info-item\">\n                            <div class=\"pedido-info-label\">Hora Sa√≠da Filial</div>\n                            <div class=\"pedido-info-value\">${rotaInfo.hora_saida_filial ? new Date(rotaInfo.hora_saida_filial).toLocaleString('pt-BR') : 'N/A'}</div>\n                        </div>\n                        \n                        <div class=\"pedido-info-item\">\n                            <div class=\"pedido-info-label\">Hora Retorno Filial</div>\n                            <div class=\"pedido-info-value\">${rotaInfo.hora_retorno_filial ? new Date(rotaInfo.hora_retorno_filial).toLocaleString('pt-BR') : 'N/A'}</div>\n                        </div>\n                        \n                        ${rotaInfo.url ? `\n                            <div class=\"pedido-info-item\" style=\"grid-column: 1 / -1;\">\n                                <div class=\"pedido-info-label\">Google Maps</div>\n                                <div class=\"pedido-info-value\">\n                                    <a href=\"${rotaInfo.url}\" target=\"_blank\" style=\"color: #4A90E2; text-decoration: none;\">\n                                        üó∫Ô∏è Abrir no Google Maps\n                                    </a>\n                                </div>\n                            </div>\n                        ` : ''}\n                    </div>\n                ` : ''}\n            `;\n            \n            // Mostrar painel e rolar at√© ele\n            panel.classList.add('active');\n            setTimeout(() => {\n                panel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n            }, 100);\n            \n            console.log('‚úÖ Detalhes exibidos!');\n        }\n        \n        function mostrarPedidosDaSaida(saidaId) {\n            console.log('üöö Mostrando todos os pedidos da SAIDA:', saidaId);\n            \n            // Buscar todos os pedidos dessa sa√≠da\n            const pedidosDaSaida = pedidosData.filter(p => p.SAIDAID == saidaId);\n            \n            if (pedidosDaSaida.length === 0) {\n                alert('Nenhum pedido encontrado para esta sa√≠da!');\n                return;\n            }\n            \n            // Ordenar por ENTREGA_CLIENTE (crescente)\n            pedidosDaSaida.sort((a, b) => {\n                return new Date(a.ENTREGA_CLIENTE) - new Date(b.ENTREGA_CLIENTE);\n            });\n            \n            console.log('üì¶ Pedidos encontrados:', pedidosDaSaida.length);\n            \n            // Formatar hora\n            const formatarHora = (data) => {\n                if (!data) return 'N/A';\n                const d = new Date(data);\n                return d.toLocaleTimeString('pt-BR');\n            };\n            \n            // Calcular tempo para cada pedido\n            let html = `\n                <h3 style=\"font-size: 1.2rem; margin-bottom: 15px; color: #2c5282;\">\n                    üöö Sa√≠da ${saidaId} - ${pedidosDaSaida.length} Pedidos\n                </h3>\n            `;\n            \n            pedidosDaSaida.forEach((pedido, index) => {\n                // Buscar dados do Google\n                const googleInfo = googleData.find(g => g.PEDIDO == pedido.PEDIDO);\n                \n                // Buscar intercorr√™ncias do pedido\n                const intercorrenciasDoPedido = intercorrenciasData.filter(i => i.NUMPED == pedido.PEDIDO);\n                const temIntercorrencia = intercorrenciasDoPedido.length > 0;\n                \n                let tempoIntercorrenciaAbatido = 0;\n                intercorrenciasDoPedido.forEach(inter => {\n                    if (inter.APROVACAO_INTERCORRENCIA === 'TRUE') {\n                        tempoIntercorrenciaAbatido += parseTempoIntercorrencia(inter.TEMPO_INTERCORRENCIA);\n                    }\n                });\n                \n                // Calcular tempo\n                let tempoReal = 0;\n                let tempoBase = '';\n                \n                if (index === 0) {\n                    // Primeiro pedido: desde INICIO_ROTA\n                    const inicioRota = new Date(pedido.INICIO_ROTA);\n                    const entregaCliente = new Date(pedido.ENTREGA_CLIENTE);\n                    tempoReal = (entregaCliente - inicioRota) / 60000;\n                    tempoBase = `desde In√≠cio da Rota (${formatarHora(pedido.INICIO_ROTA)})`;\n                } else {\n                    // Pedidos seguintes: desde entrega anterior\n                    const pedidoAnterior = pedidosDaSaida[index - 1];\n                    const entregaAnterior = new Date(pedidoAnterior.ENTREGA_CLIENTE);\n                    const entregaAtual = new Date(pedido.ENTREGA_CLIENTE);\n                    tempoReal = (entregaAtual - entregaAnterior) / 60000;\n                    tempoBase = `desde Pedido ${pedidoAnterior.PEDIDO} (${formatarHora(pedidoAnterior.ENTREGA_CLIENTE)})`;\n                }\n                \n                // Tempo ajustado\n                const tempoAjustado = Math.max(0, tempoReal - tempoIntercorrenciaAbatido);\n                \n                // Extrair tempo do Google\n                let tempoGoogle = 0;\n                if (googleInfo && googleInfo.TEMPO) {\n                    tempoGoogle = parseTempoGoogle(googleInfo.TEMPO);\n                }\n                \n                const tempoGoogleComTolerancia = tempoGoogle + 5;\n                \n                // Verificar status\n                let status = '‚úÖ Dentro';\n                let statusClass = 'dentro';\n                \n                if (googleInfo && tempoGoogle > 0) {\n                    if (tempoAjustado > tempoGoogleComTolerancia) {\n                        status = '‚ùå Fora';\n                        statusClass = 'fora';\n                    }\n                } else if (!googleInfo) {\n                    status = 'üü† Sem Google';\n                    statusClass = 'nao-entregue';\n                }\n                \n                html += `\n                    <div class=\"saida-pedido-item ${index === 0 ? 'primeiro' : ''} ${temIntercorrencia ? 'com-intercorrencia' : ''}\">\n                        <div class=\"saida-pedido-header\">\n                            <span style=\"font-size: 1.1rem;\">${index + 1}¬∫ - Pedido ${pedido.PEDIDO} ${temIntercorrencia ? '‚ö†Ô∏è' : ''}</span>\n                            <span class=\"pedido-status-badge ${statusClass}\" style=\"font-size: 0.8rem; padding: 3px 8px;\">\n                                ${status}\n                            </span>\n                        </div>\n                        \n                        <div style=\"display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; font-size: 0.9rem;\">\n                            <div>\n                                <strong>Cliente:</strong> ${pedido.RAZAO_SOCIAL || 'N/A'}\n                            </div>\n                            <div>\n                                <strong>Entrega:</strong> ${formatarHora(pedido.ENTREGA_CLIENTE)}\n                            </div>\n                            <div style=\"grid-column: 1 / -1;\">\n                                <strong>Base de c√°lculo:</strong> ${tempoBase}\n                            </div>\n                            <div>\n                                <strong>Tempo Real:</strong> <span style=\"color: #e53e3e;\">${tempoReal.toFixed(2)} min</span>\n                            </div>\n                            ${temIntercorrencia && tempoIntercorrenciaAbatido > 0 ? `\n                            <div>\n                                <strong>‚ö†Ô∏è Intercorr√™ncia:</strong> <span style=\"color: #f59e0b;\">- ${tempoIntercorrenciaAbatido.toFixed(2)} min</span>\n                            </div>\n                            <div>\n                                <strong>‚úÖ Tempo Ajustado:</strong> <span style=\"color: #48bb78;\">${tempoAjustado.toFixed(2)} min</span>\n                            </div>\n                            ` : ''}\n                            <div>\n                                <strong>Tempo Google+5:</strong> <span style=\"color: ${tempoGoogle > 0 ? '#38a169' : '#999'};\">${tempoGoogle > 0 ? tempoGoogleComTolerancia : 'N/A'} min</span>\n                            </div>\n                            ${googleInfo ? `\n                                <div style=\"grid-column: 1 / -1; font-size: 0.85rem; color: #666;\">\n                                    <strong>Ref. Google:</strong> ${googleInfo.TEMPO || 'N/A'}\n                                </div>\n                            ` : `\n                                <div style=\"grid-column: 1 / -1; font-size: 0.85rem; color: #e53e3e;\">\n                                    ‚ö†Ô∏è Dados do Google Maps n√£o encontrados para este pedido\n                                </div>\n                            `}\n                            ${googleInfo && googleInfo.KM ? `\n                                <div>\n                                    <strong>Dist√¢ncia:</strong> ${googleInfo.KM} km\n                                </div>\n                            ` : ''}\n                            ${temIntercorrencia ? `\n                                <div style=\"grid-column: 1 / -1; background: #fff3cd; padding: 8px; border-radius: 4px; margin-top: 8px;\">\n                                    <strong style=\"color: #f59e0b;\">‚ö†Ô∏è ${intercorrenciasDoPedido.length} Intercorr√™ncia(s):</strong><br>\n                                    ${intercorrenciasDoPedido.map(i => `\n                                        <small>‚Ä¢ #${i.ID_INTERCORRENCIA} - ${i.DESCRICAO || 'Sem descri√ß√£o'} \n                                        (${i.APROVACAO_INTERCORRENCIA === 'TRUE' ? '‚úÖ Aprovada' : '‚è≥ Pendente'})</small>\n                                    `).join('<br>')}\n                                </div>\n                            ` : ''}\n                        </div>\n                    </div>\n                `;\n            });\n            \n            // Calcular totais da sa√≠da\n            const totalTempo = pedidosDaSaida.reduce((sum, p, i) => {\n                if (i === 0) {\n                    return sum + ((new Date(p.ENTREGA_CLIENTE) - new Date(p.INICIO_ROTA)) / 60000);\n                } else {\n                    return sum + ((new Date(p.ENTREGA_CLIENTE) - new Date(pedidosDaSaida[i-1].ENTREGA_CLIENTE)) / 60000);\n                }\n            }, 0);\n            \n            html += `\n                <div style=\"margin-top: 20px; padding: 15px; background: #e3f2fd; border-radius: 6px; font-weight: 600;\">\n                    <div style=\"display: flex; justify-content: space-between;\">\n                        <span>Tempo Total da Rota:</span>\n                        <span>${totalTempo.toFixed(2)} minutos (${(totalTempo / 60).toFixed(2)} horas)</span>\n                    </div>\n                </div>\n            `;\n            \n            // Mostrar no container\n            const container = document.getElementById('saidaDetails');\n            if (container) {\n                container.innerHTML = html;\n                container.classList.add('active');\n                \n                // Rolar at√© o container\n                setTimeout(() => {\n                    container.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n                }, 100);\n            }\n        }\n    </script>\n</body>\n</html>\n",
  "topRow": 0,
  "type": "IFRAME_WIDGET",
  "version": 1,
  "widgetId": "zpl6yy8vt7",
  "widgetName": "Iframe2"
}