{
  "animateLoading": true,
  "borderOpacity": 100,
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "borderWidth": 1,
  "bottomRow": 66,
  "boxShadow": "{{appsmith.theme.boxShadow.appBoxShadow}}",
  "dynamicBindingPathList": [
    {
      "key": "borderRadius"
    },
    {
      "key": "boxShadow"
    }
  ],
  "dynamicTriggerPathList": [],
  "flexVerticalAlignment": "start",
  "isLoading": false,
  "isVisible": true,
  "key": "yfx2yv6ci0",
  "leftColumn": 0,
  "mobileBottomRow": 37,
  "mobileLeftColumn": 21,
  "mobileRightColumn": 45,
  "mobileTopRow": 5,
  "needsErrorInfo": false,
  "parentColumnSpace": 22.85107421875,
  "parentId": "clw9x1acdq",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "responsiveBehavior": "fill",
  "rightColumn": 64,
  "source": "https://www.example.com",
  "srcDoc": "<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Dashboard - Pedidos Sem Motoboys</title>\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n            background: linear-gradient(135deg, #f97316 0%, #ef4444 100%);\n            min-height: 100vh;\n            padding: 20px;\n        }\n        .container { max-width: 1600px; margin: 0 auto; }\n        .header {\n            background: white;\n            padding: 24px 32px;\n            border-radius: 16px;\n            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);\n            margin-bottom: 24px;\n        }\n        .header h1 { font-size: 28px; font-weight: 800; color: #111827; margin-bottom: 8px; }\n        .header p { color: #6b7280; font-size: 14px; }\n        .kpis {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n            gap: 16px;\n            margin-bottom: 24px;\n        }\n        .kpi-card {\n            background: white;\n            padding: 20px;\n            border-radius: 12px;\n            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n            border-left: 4px solid;\n        }\n        .kpi-card.primary { border-left-color: #f97316; }\n        .kpi-card.success { border-left-color: #10b981; }\n        .kpi-card.warning { border-left-color: #facc15; }\n        .kpi-card.danger { border-left-color: #ef4444; }\n        .kpi-label { font-size: 12px; color: #6b7280; text-transform: uppercase; font-weight: 600; margin-bottom: 8px; }\n        .kpi-value { font-size: 32px; font-weight: 800; color: #111827; margin-bottom: 4px; }\n        .kpi-subtitle { font-size: 13px; color: #9ca3af; }\n        .filters-card {\n            background: white;\n            padding: 24px;\n            border-radius: 12px;\n            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n            margin-bottom: 24px;\n        }\n        .filters-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }\n        .filters-header h3 { font-size: 18px; font-weight: 700; color: #111827; }\n        .filters-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n            gap: 16px;\n            margin-bottom: 16px;\n        }\n        .filter-group { display: flex; flex-direction: column; }\n        .filter-group label { font-size: 12px; font-weight: 600; color: #374151; margin-bottom: 6px; }\n        .filter-group select,\n        .filter-group input {\n            padding: 10px 12px;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            font-size: 14px;\n            transition: all 0.2s;\n            background: white;\n        }\n        .filter-group select:focus,\n        .filter-group input:focus {\n            outline: none;\n            border-color: #f97316;\n            box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.2);\n        }\n        .filter-buttons { display: flex; gap: 12px; }\n        .btn {\n            padding: 10px 20px;\n            border: none;\n            border-radius: 8px;\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s;\n            display: inline-flex;\n            align-items: center;\n            gap: 8px;\n        }\n        .btn-primary { background: #f97316; color: white; }\n        .btn-primary:hover { background: #ea580c; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4); }\n        .btn-secondary { background: #f3f4f6; color: #374151; }\n        .btn-secondary:hover { background: #e5e7eb; }\n        .tabs {\n            display: flex;\n            gap: 8px;\n            margin-bottom: 0;\n            background: white;\n            padding: 16px 16px 0 16px;\n            border-radius: 12px 12px 0 0;\n            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n        }\n        .tab {\n            padding: 12px 24px;\n            background: transparent;\n            border: none;\n            border-radius: 8px 8px 0 0;\n            font-size: 14px;\n            font-weight: 600;\n            color: #6b7280;\n            cursor: pointer;\n            transition: all 0.2s;\n        }\n        .tab:hover { background: #f3f4f6; color: #374151; }\n        .tab.active { background: linear-gradient(135deg, #f97316 0%, #ef4444 100%); color: white; }\n        .content-card {\n            background: white;\n            padding: 24px;\n            border-radius: 0 0 12px 12px;\n            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n        }\n        .tab-content { display: none; }\n        .tab-content.active { display: block; }\n        .table-wrapper { overflow-x: auto; border-radius: 8px; border: 1px solid #e5e7eb; }\n        table { width: 100%; border-collapse: collapse; background: white; }\n        thead { background: linear-gradient(135deg, #f97316 0%, #ef4444 100%); color: white; }\n        th { padding: 14px 16px; text-align: left; font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; white-space: nowrap; }\n        td { padding: 14px 16px; border-bottom: 1px solid #f3f4f6; font-size: 14px; color: #374151; }\n        tbody tr { transition: all 0.2s; }\n        tbody tr:hover { background: #f9fafb; }\n        .td-strong { font-weight: 700; color: #111827; }\n        .td-muted { color: #9ca3af; }\n        .badge { display: inline-block; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; white-space: nowrap; }\n        .badge-success { background: #dcfce7; color: #166534; }\n        .badge-danger { background: #fee2e2; color: #991b1b; }\n        .group-cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; margin-bottom: 20px; }\n        .group-card { background: white; border: 2px solid #fee2e2; border-radius: 12px; padding: 20px; transition: all 0.3s; }\n        .group-card:hover { border-color: #f97316; box-shadow: 0 4px 16px rgba(249, 115, 22, 0.2); transform: translateY(-2px); }\n        .group-card-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 2px solid #f3f4f6; }\n        .group-card-title { font-size: 16px; font-weight: 700; color: #111827; }\n        .group-card-count { font-size: 24px; font-weight: 800; color: #f97316; }\n        .group-card-body { display: flex; flex-direction: column; gap: 8px; }\n        .group-stat { display: flex; justify-content: space-between; align-items: center; font-size: 13px; }\n        .group-stat-label { color: #6b7280; }\n        .group-stat-value { font-weight: 600; color: #111827; }\n        .empty-state { text-align: center; padding: 60px 20px; color: #9ca3af; }\n        .empty-state-icon { font-size: 48px; margin-bottom: 16px; }\n        .empty-state-text { font-size: 16px; font-weight: 600; }\n        .pagination { display: flex; align-items: center; justify-content: center; gap: 8px; margin-top: 20px; padding: 16px; }\n        .pagination button {\n            padding: 8px 16px;\n            border: 2px solid #e5e7eb;\n            background: white;\n            border-radius: 8px;\n            font-size: 14px;\n            font-weight: 600;\n            color: #374151;\n            cursor: pointer;\n            transition: all 0.2s;\n        }\n        .pagination button:hover:not(:disabled) { border-color: #f97316; color: #f97316; }\n        .pagination button:disabled { opacity: 0.4; cursor: not-allowed; }\n        .pagination button.active { background: #f97316; color: white; border-color: #f97316; }\n        .pagination-info { font-size: 14px; color: #6b7280; margin: 0 12px; }\n        .loading { display: flex; align-items: center; justify-content: center; padding: 40px; color: #6b7280; font-size: 14px; }\n        .spinner { border: 3px solid #f3f4f6; border-top: 3px solid #f97316; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin-right: 12px; }\n        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\n        @media (max-width: 768px) { body { padding: 12px; } .header h1 { font-size: 22px; } .kpis { grid-template-columns: 1fr; } .filters-grid { grid-template-columns: 1fr; } .tabs { overflow-x: auto; padding: 12px 12px 0 12px; } .tab { padding: 10px 16px; font-size: 13px; } table { font-size: 12px; } th, td { padding: 10px 12px; } }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>üì¶ Dashboard de Pedidos Sem Motoboys</h1>\n            <p>An√°lise dos per√≠odos em que pedidos ficaram dispon√≠veis sem motoboys na filial</p>\n        </div>\n\n        <div class=\"kpis\" id=\"kpis\"></div>\n\n        <div class=\"filters-card\">\n            <div class=\"filters-header\">\n                <h3>üîç Filtros</h3>\n            </div>\n            <div class=\"filters-grid\">\n                <div class=\"filter-group\">\n                    <label for=\"filterFilial\">Filial</label>\n                    <select id=\"filterFilial\">\n                        <option value=\"\">Todas as Filiais</option>\n                    </select>\n                </div>\n                <div class=\"filter-group\">\n                    <label for=\"filterPedido\">N√∫mero do Pedido</label>\n                    <input type=\"text\" id=\"filterPedido\" placeholder=\"Pesquisar pedido...\">\n                </div>\n                <div class=\"filter-group\">\n                    <label for=\"filterStatus\">Status</label>\n                    <select id=\"filterStatus\">\n                        <option value=\"\">Todos</option>\n                        <option value=\"SEM MOTOBOY\">Sem motoboy</option>\n                        <option value=\"J√Å HAVIA MOTOBOY\">J√° havia motoboy</option>\n                    </select>\n                </div>\n                <div class=\"filter-group\">\n                    <label for=\"filterTempo\">Tempo sem motoboy (min)</label>\n                    <select id=\"filterTempo\">\n                        <option value=\"\">Todos</option>\n                        <option value=\"0-5\">0 a 5 min</option>\n                        <option value=\"5-15\">5 a 15 min</option>\n                        <option value=\"15-30\">15 a 30 min</option>\n                        <option value=\"30+\">Mais de 30 min</option>\n                    </select>\n                </div>\n            </div>\n            <div class=\"filter-buttons\">\n                <button class=\"btn btn-primary\" onclick=\"applyFilters()\">üîç Aplicar Filtros</button>\n                <button class=\"btn btn-secondary\" onclick=\"clearFilters()\">‚úï Limpar Filtros</button>\n            </div>\n        </div>\n\n        <div class=\"tabs\">\n            <button class=\"tab active\" onclick=\"switchTab('detalhes')\">üìã Detalhes</button>\n            <button class=\"tab\" onclick=\"switchTab('por-filial')\">üè¢ Por Filial</button>\n        </div>\n\n        <div class=\"content-card\">\n            <div class=\"tab-content active\" id=\"tab-detalhes\">\n                <div class=\"table-wrapper\">\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>Filial</th>\n                                <th>Pedido</th>\n                                <th>In√≠cio Disponibilidade</th>\n                                <th>Fim Per√≠odo</th>\n                                <th>Tempo Sem Motoboy</th>\n                                <th>Status</th>\n                            </tr>\n                        </thead>\n                        <tbody id=\"tableDetalhes\"></tbody>\n                    </table>\n                </div>\n                <div class=\"pagination\" id=\"pagination-detalhes\"></div>\n            </div>\n\n            <div class=\"tab-content\" id=\"tab-por-filial\">\n                <div id=\"groupByFilial\" class=\"group-cards\"></div>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        let rawData = [];\n        let filteredData = [];\n        let currentTab = 'detalhes';\n        let pagination = { currentPage: 1, itemsPerPage: 20 };\n        let activeFilters = { filial: '', pedido: '', status: '', tempo: '' };\n\n        function loadDataFromAppsmith(dados) {\n            try {\n                console.log('üîç Dados recebidos para pedidos_sem_motoboys:', dados);\n\n                if (typeof dados === 'string') {\n                    try {\n                        dados = JSON.parse(dados);\n                        console.log('‚úÖ String JSON parseada com sucesso');\n                    } catch (e) {\n                        console.error('‚ùå Erro ao parsear string JSON:', e);\n                    }\n                }\n\n                if (dados && dados.detalhes && Array.isArray(dados.detalhes)) {\n                    rawData = dados.detalhes;\n                } else if (Array.isArray(dados)) {\n                    rawData = dados;\n                } else if (dados && Array.isArray(dados.data)) {\n                    rawData = dados.data;\n                } else {\n                    console.error('‚ùå Formato de dados inv√°lido para pedidos_sem_motoboys');\n                    showEmptyState();\n                    return;\n                }\n\n                filteredData = [...rawData];\n                console.log('‚úÖ Registros de pedidos_sem_motoboys carregados:', rawData.length);\n\n                populateFilters();\n                updateKPIs(dados);\n                renderCurrentTab();\n            } catch (error) {\n                console.error('‚ùå Erro ao carregar dados pedidos_sem_motoboys:', error);\n                showEmptyState();\n            }\n        }\n\n        function populateFilters() {\n            const filiais = [...new Set(rawData.map(d => d.filial))].filter(f => f).sort();\n            const selectFilial = document.getElementById('filterFilial');\n            selectFilial.innerHTML = '<option value=\"\">Todas as Filiais</option>' +\n                filiais.map(f => `<option value=\"${f}\">${f}</option>`).join('');\n        }\n\n        function applyFilters() {\n            activeFilters.filial = document.getElementById('filterFilial').value;\n            activeFilters.pedido = document.getElementById('filterPedido').value.trim();\n            activeFilters.status = document.getElementById('filterStatus').value;\n            activeFilters.tempo = document.getElementById('filterTempo').value;\n\n            console.log('üîç Aplicando filtros pedidos_sem_motoboys:', activeFilters);\n\n            filteredData = rawData.filter(item => {\n                if (activeFilters.filial && item.filial !== activeFilters.filial) return false;\n                if (activeFilters.pedido && !String(item.numPed).includes(activeFilters.pedido)) return false;\n                if (activeFilters.status && item.status !== activeFilters.status) return false;\n\n                if (activeFilters.tempo) {\n                    const tempo = item.tempoSemMotoboyMinutos || 0;\n                    if (activeFilters.tempo === '0-5' && (tempo < 0 || tempo > 5)) return false;\n                    if (activeFilters.tempo === '5-15' && (tempo < 5 || tempo > 15)) return false;\n                    if (activeFilters.tempo === '15-30' && (tempo < 15 || tempo > 30)) return false;\n                    if (activeFilters.tempo === '30+' && tempo < 30) return false;\n                }\n\n                return true;\n            });\n\n            pagination.currentPage = 1;\n            updateKPIs();\n            renderCurrentTab();\n        }\n\n        function clearFilters() {\n            document.getElementById('filterFilial').value = '';\n            document.getElementById('filterPedido').value = '';\n            document.getElementById('filterStatus').value = '';\n            document.getElementById('filterTempo').value = '';\n            activeFilters = { filial: '', pedido: '', status: '', tempo: '' };\n            filteredData = [...rawData];\n            pagination.currentPage = 1;\n            updateKPIs();\n            renderCurrentTab();\n        }\n\n        function updateKPIs(dadosOriginais) {\n            let totalPedidos = 0;\n            let pedidosComMotoboy = 0;\n            let pedidosSemMotoboy = 0;\n            let tempoTotal = 0;\n            let tempoMedio = 0;\n            let tempoMaximo = 0;\n            let interpretacao = '';\n\n            if (dadosOriginais && dadosOriginais.estatisticas) {\n                totalPedidos = dadosOriginais.totalPedidos || 0;\n                pedidosComMotoboy = dadosOriginais.pedidosComMotoboy || 0;\n                pedidosSemMotoboy = dadosOriginais.pedidosSemMotoboy || 0;\n                tempoTotal = dadosOriginais.estatisticas.tempoTotalSemMotoboyMinutos || 0;\n                tempoMedio = dadosOriginais.estatisticas.tempoMedioSemMotoboyMinutos || 0;\n                tempoMaximo = dadosOriginais.estatisticas.tempoMaximoSemMotoboyMinutos || 0;\n                interpretacao = dadosOriginais.interpretacao || '';\n            } else {\n                totalPedidos = filteredData.length;\n                pedidosSemMotoboy = filteredData.filter(d => (d.tempoSemMotoboyMinutos || 0) > 0).length;\n                pedidosComMotoboy = totalPedidos - pedidosSemMotoboy;\n                tempoTotal = filteredData.reduce((s, d) => s + (d.tempoSemMotoboyMinutos || 0), 0);\n                tempoMedio = pedidosSemMotoboy > 0 ? tempoTotal / pedidosSemMotoboy : 0;\n                tempoMaximo = filteredData.reduce((m, d) => Math.max(m, d.tempoSemMotoboyMinutos || 0), 0);\n            }\n\n            const kpisContainer = document.getElementById('kpis');\n            kpisContainer.innerHTML = `\n                <div class=\"kpi-card primary\">\n                    <div class=\"kpi-label\">üì¶ Total de Pedidos</div>\n                    <div class=\"kpi-value\">${totalPedidos}</div>\n                    <div class=\"kpi-subtitle\">Pedidos analisados</div>\n                </div>\n                <div class=\"kpi-card success\">\n                    <div class=\"kpi-label\">‚úÖ Com Motoboy Dispon√≠vel</div>\n                    <div class=\"kpi-value\">${pedidosComMotoboy}</div>\n                    <div class=\"kpi-subtitle\">Pedidosprompt.cutoff\n",
  "topRow": 1,
  "type": "IFRAME_WIDGET",
  "version": 1,
  "widgetId": "e30iczgjfk",
  "widgetName": "Iframe14CopyCopy"
}